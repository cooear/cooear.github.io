<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Tag: VPN | 酷耳]]></title>
  <link href="http://cooear.com/tags/vpn/atom.xml" rel="self"/>
  <link href="http://cooear.com/"/>
  <updated>2016-05-04T20:51:49+08:00</updated>
  <id>http://cooear.com/</id>
  <author>
    <name><![CDATA[cooear]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[XX-Net接力GoAgent的工具]]></title>
    <link href="http://cooear.com/blog/2016/05/xx-net-jie-li-goagent/"/>
    <updated>2016-05-04T20:46:17+08:00</updated>
    <id>http://cooear.com/blog/2016/05/xx-net-jie-li-goagent</id>
    <content type="html"><![CDATA[<p>XX-Net是一个接力GoAgent的翻墙工具，XX-Net提供GAE proxy并且稳定、易用、快速，Web界面，人性化交互等。</p>

<p>XX-Net<a href="https://github.com/XX-net/XX-Net/blob/master/code/default/download.md">下载地址</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[OpenWrt使用ShadowSocks透明代理智能翻墙上网]]></title>
    <link href="http://cooear.com/blog/2015/02/openwrtshi-yong-shadowsockstou-ming-dai-li-zhi-neng-fan-qiang-shang-wang/"/>
    <updated>2015-02-14T10:00:09+08:00</updated>
    <id>http://cooear.com/blog/2015/02/openwrtshi-yong-shadowsockstou-ming-dai-li-zhi-neng-fan-qiang-shang-wang</id>
    <content type="html"><![CDATA[<p>　　<font color=red >本教程前提是需要有一个ShadowSocks账号或安装ShadowSocks服务的VPS（墙外的）</font>。</p>

<h3>一、安装<strong>OpenWrt</strong>并配置上网</h3>

<ol>
<li><p>telnet 192.168.1.1 至Openwrt并修改root密码</p>

<pre><code> telnet 192.168.1.1  
</code></pre></li>
<li><p>配置上网参数</p>

<pre><code> uci set network.wan.proto=pppoe
 uci set network.wan.username=name
 uci set network.wan.password=123456
 uci commit network ifup wan
</code></pre></li>
<li><p>安装luci界面，并配置开机启动</p>

<pre><code> opkg update
 opkg install luci
 /etc/init.d/uhttpd start
 /etc/init.d/uhttpd enable 
</code></pre></li>
<li><p>修改luci界面端口号</p>

<pre><code> vim /etc/config/uhttpd
</code></pre>

<p> <!--more--></p></li>
<li><p>修改ssh默认的22端口号</p>

<pre><code> vim /etc/config/dropbear
</code></pre></li>
<li><p>自定义DNS</p>

<p> <em>a.</em> 创建 /etc/config/sec_resolv.conf</p>

<pre><code> vim /etc/config/sec_resolv.conf
 nameserver 8.8.8.8
 nameserver 8.8.4.4
 nameserver 208.67.222.222
</code></pre>

<p> <em>b.</em>  编辑 /etc/config/dhcp</p>

<p> 找到 option resolvfile 选项，替换/tmp/resolv.conf.auto为/etc/config/sec_resolv.conf.</p></li>
</ol>


<h3>二、软件包安装</h3>

<p>执行命令：</p>

<pre><code>opkg update
</code></pre>

<p>shadowsocks-libev<a href="http://sourceforge.net/projects/openwrt-dist/files/shadowsocks-libev/">下载</a>：</p>

<p>必须包安装：</p>

<p>olarssl版本的shadowsocks（polarssl体积更小）：</p>

<pre><code>opkg install iptables-mod-nat-extra ipset libpolarssl
</code></pre>

<p>普通版本（openssl）的shadowsocks，那么(openssl兼容性更好)：</p>

<pre><code>opkg install iptables-mod-nat-extra ipset libopenssl
</code></pre>

<p>卸载dnsmasq并安装dnsmasq-full以及相应的扩展包(dnsmasq没有ipset功能)</p>

<pre><code>opkg remove dnsmasq &amp;&amp; opkg install dnsmasq-full
cd /tmp
opkg install shadowsocks-libev_x.x.x-x_ar71xx.ipk
</code></pre>

<h3>三、配置</h3>

<ol>
<li><p>配置/etc/shadowsocks.json</p>

<pre><code> {
     "server": "X.X.X.X",
     "server_port": "443",
     "password": "password",
     "local_port": "1080",
     "method": "aes-256-cfb"
 }
</code></pre></li>
<li><p>修改/etc/init.d/shadowsocks ，其实就是把Client Mode注释掉再把Proxy Mode的注释去掉</p>

<pre><code> #!/bin/sh /etc/rc.common

 START=95

 SERVICE_USE_PID=1
 SERVICE_WRITE_PID=1
 SERVICE_DAEMONIZE=1
 SERVICE_PID_FILE=/var/run/shadowsocks.pid
 CONFIG=/etc/shadowsocks.json

 start() {
     # Client Mode
     #service_start /usr/bin/ss-local -c $CONFIG -f $SERVICE_PID_FILE
     # Proxy Mode
     service_start /usr/bin/ss-redir -c $CONFIG -f $SERVICE_PID_FILE
 }

 stop() {
     # Client Mode
     #service_stop /usr/bin/ss-local
     # Proxy Mode
     service_stop /usr/bin/ss-redir
 }
</code></pre></li>
<li><p>启动shadowsocks，并设置开机运行：</p>

<pre><code> /etc/init.d/shadowsocks enable
 /etc/init.d/shadowsocks start
</code></pre></li>
</ol>


<h3>四、配置dnsmasq和ipset</h3>

<ol>
<li><p>将iptables规则加入防火墙中（添加至/etc/rc.local可开机启动）</p>

<pre><code> ipset -N gfwlist iphash
 iptables -t nat -A PREROUTING -p tcp -m set –match-set gfwlist dst -j REDIRECT –to-port 1080
 iptables -t nat -A OUTPUT -p tcp -m set –match-set gfwlist dst -j REDIRECT –to-port 1080
</code></pre></li>
<li><p>修改/etc/dnsmasq.conf，在最后加入 conf-dir=/etc/dnsmasq.d ，新建并进入目录/etc/dnsmasq.d，并将my_dnsmasq.conf放入该目录。</p>

<p> my_dnsmasq.conf具体格式如下：</p>

<pre><code> #使用不受污染干扰的DNS解析该域名 可以将此IP改为自己使用的DNS服务器
 server=/google.com/208.67.222.222#443
 #将解析出来的IP保存到名为gfwlist的ipset表中
 ipset=/google.com/gfwlist
</code></pre></li>
</ol>


<h3>五、ss-tunnel转发UDP的DNS的请求</h3>

<pre><code>#!/bin/sh /etc/rc.common

START=95

SERVICE_USE_PID=1
SERVICE_WRITE_PID=1
SERVICE_DAEMONIZE=1
SERVICE_PID_FILE=/var/run/shadowsocks.pid
CONFIG=/etc/shadowsocks.json
DNS=8.8.8.8:53
TUNNEL_PORT=5353

start() {
    # Client Mode
    #service_start /usr/bin/ss-local -c $CONFIG -f $SERVICE_PID_FILE
    # Proxy Mode
    service_start /usr/bin/ss-redir -c $CONFIG -f $SERVICE_PID_FILE
    # Tunnel
    service_start /usr/bin/ss-tunnel -c $CONFIG -u -l $TUNNEL_PORT -L $DNS
}

stop() {
    # Client Mode
    #service_stop /usr/bin/ss-local
    # Proxy Mode
    service_stop /usr/bin/ss-redir
    # Tunnel
    service_stop /usr/bin/ss-tunnel
}
</code></pre>

<p><strong>注</strong>：至此路由器已经my_dnsmasq.conf里面的域名已经会自动使用ss代理翻墙</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Lantern(灯笼)安装和使用教程]]></title>
    <link href="http://cooear.com/blog/2014/08/lantern-deng-long-an-zhuang-he-shi-yong-jiao-cheng/"/>
    <updated>2014-08-09T12:29:42+08:00</updated>
    <id>http://cooear.com/blog/2014/08/lantern-deng-long-an-zhuang-he-shi-yong-jiao-cheng</id>
    <content type="html"><![CDATA[<p>　　<a href="https://www.getlantern.org/">Lantern</a> 的主要目的是访问：得到快速可靠的连接，拥抱广阔的因特网，自由浏览。绝大多数翻墙软件需要服务器。在Lantern系统中，每台机器都可以作为服务器，从而比其他工 具提供更多的容量。通过运行Lantern，每个在非封锁区的电脑，都可以变成封锁区用户的代理，使他们可以访问被封锁的网站，诸如 Twitter，Facebook，Youtube，等等。Lantern的核心是信任网络，使用者邀请他们的朋友来建立Lantern网络（使用最新版的Lantern当前为1.4无需邀请直接使用）。通过只邀请他们信任的人分享因特网连接，大家共同努力，来增加网络反抗审查者的封锁的能力。你的Lantern朋友越多，因特网的速度和可靠性就越高。工作原理如下图：</p>

<p><img src="http://g1c1i0.cooear.com/images/uploads/2014/08/50b24994.vis.gif" title="Lantern 工作原理" alt="Lantern 工作原理" /></p>

<!--more-->


<h2>安装教程</h2>

<h3>1、首先你必须确定你已经安装好谷歌的Chrome浏览器，否则<strong>Lantern</strong>无法启动.</h3>

<h3>2、下载你系统对应的客户端程序，安装<strong>Lantern</strong>.</h3>

<p><a href="http://pan.baidu.com/s/1jG412Fs">Windows</a> &nbsp; &nbsp; &nbsp; &nbsp; <a href="http://pan.baidu.com/s/1hq5R2uC">Mac</a>&nbsp; &nbsp; &nbsp; &nbsp; <a href="http://pan.baidu.com/s/1i3iORzR">Linux</a></p>

<p>如果遇到安装错误、安装不了，请挂代理安装，因为需要连接到亚马逊服务器下载主程序和java程序。Lantern必须要在Java环境下运行，否则会出问题。</p>

<p><strong>2.1、</strong>完成后会弹出Lantern(灯笼)的介面面板，最新为Lantern1.4.3,如图：</p>

<p><img src="http://g1c1i0.cooear.com/images/uploads/2014/08/20131123054656thw4v.jpeg" title="Lantern 安装完成" alt="Lantern 安装完成" /></p>

<h3>3、帐号设置和连接网络.</h3>

<p><strong>3.1</strong> 使用gmail账号登入，如图：</p>

<p><img src="http://g1c1i0.cooear.com/images/uploads/2014/08/201311230551378ozua.jpeg" title="Lantern 登陆" alt="Lantern 登陆" /></p>

<p><img src="http://g1c1i0.cooear.com/images/uploads/2014/08/20131123055143brtwp.jpeg" title="Lantern 登陆" alt="Lantern 登陆" /></p>

<p><strong>3.2</strong> 已成功和Lantern连接</p>

<p><img src="http://g1c1i0.cooear.com/images/uploads/2014/08/201311230559344ixqv.jpeg" title="Lantern 登陆成功" alt="Lantern 登陆成功" /></p>

<p><img src="http://g1c1i0.cooear.com/images/uploads/2014/08/1.png" title="Lantern 登陆成功" alt="Lantern 登陆成功" /></p>

<p><strong>3.2.1</strong> 接入后如果发现一直停留在Communicating with Google Talk severs…界面，如下图：</p>

<p><img src="http://g1c1i0.cooear.com/images/uploads/2014/08/talk.png" title="Lantern 登陆问题" alt="Lantern 问题" /></p>

<p> 问题：很明显，Lantern正在向 Google Talk服务器发送数据请求，但是在天朝google服务器群很多都是被屏蔽的，造成了 Lantern与Google Talk通话的阻隔</p>

<p> 解决：挂上全局的vpn（本人使用的是<a href="http://t.cn/RPZLMcB">VPN</a>的全局代理，试用一天VIP），然后重新运行Lantern，就可以完成google talk的连接了.</p>

<p> <strong>3.3</strong> 添加自动代理网站，如下图</p>

<p> <img src="http://g1c1i0.cooear.com/images/uploads/2014/08/3.2.1.jpeg" title="Lantern 代理设置" alt="Lantern 代理设置" /></p>

<p> <img src="http://g1c1i0.cooear.com/images/uploads/2014/08/2.png" title="Lantern 代理设置" alt="Lantern 代理设置" /></p>

<p> <strong>注意</strong>：在输入框中添加需要代理的网站地址，每个域名一行。</p>

<p> <strong> 4、</strong> 浏览器代理设置(以chrome为例)</p>

<p>　　装有switchysharp扩展的话，可以直接选择 【使用系统代理设置】；可以暂时停用switchysharp还可以在switchysharp【选项】【新建情景模式】，选择【自动配置】，在Url处填入你自己在<strong>Lantern</strong>获得pac文地址,切换到<strong>Lantern</strong>模式。如图：</p>

<p> <img src="http://g1c1i0.cooear.com/images/uploads/2014/08/3.png" title="Lantern 全局代理设置" alt="Lantern 全局代理设置" /></p>

<p> <img src="http://g1c1i0.cooear.com/images/uploads/2014/08/4.png" title="Lantern 的Chrome switchysharp设置" alt="Lantern 的Chrome switchysharp设置" /></p>

<p> <strong>5. Lantern</strong>设置成功，顺利浏览<strong>Youtube</strong>，如图：</p>

<p> <img src="http://g1c1i0.cooear.com/images/uploads/2014/08/66.png" title="Lantern 顺利翻墙" alt="Lantern 顺利翻墙" /></p>

<p> <br />
 <a href="http://cooear.com/blog/2014/05/goagent-switchysharp-tu-wen-jiao-cheng/">Goagent翻墙云梯</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[GAE(Google App Engine)+goagent+chrome浏览器+switchysharp图文教程]]></title>
    <link href="http://cooear.com/blog/2014/05/goagent-switchysharp-tu-wen-jiao-cheng/"/>
    <updated>2014-05-03T10:37:34+08:00</updated>
    <id>http://cooear.com/blog/2014/05/goagent-switchysharp-tu-wen-jiao-cheng</id>
    <content type="html"><![CDATA[<p>作为一个技术宅、IT男，同时为了满足我们的好奇心，求知欲，或不可告人的目的，我们常常需要看看“墙外”的风光。Windows下方便的有自由门、逍遥游等可以满足这个小小的要求，可会不定时的遭到“暗杀”，且网速慢、不稳定，用着十分的不爽。</p>

<p>现在推荐一个基于GAE（Google App Engine）+ goagent + switchysharp + chrome的翻墙之法，请不要害怕这过长的篇幅，设置的过程是相当的简单的，按部就班的来10分钟左右搞定。设置过程如下：</p>

<h3>一、简单介绍</h3>

<ol>
<li>GAE（Google App Engine）是一个开发、托管网络应用程序的平台；</li>
<li>goagent是一个使用Python和Google Appengine SDK编写的代理软件；</li>
<li>switch sharp是一个chrome插件，具体功能类似于Firefox的AutoProxy.</li>
</ol>


<h3>二、确保自己拥有一个Google账户</h3>

<p><strong>step1</strong>: 创建Google账号，并登录<a href="https://appengine.google.com/start/createapp">Google App Engine</a>按下图操作(已有账号的请跳过);</p>

<!--more-->


<p><img src="http://g1c1i0.cooear.com/images/uploads/2013/07/1.png" title="创建Google Application ID" alt="创建Google Application ID" /></p>

<p><strong>step2</strong>: 创建自己的application</p>

<p>完成step1的验证操作后界面如下：</p>

<p><img src="http://g1c1i0.cooear.com/images/uploads/2013/07/3.png" title="创建Google Application应用" alt="创建Google Application应用" /></p>

<p><strong>注</strong>：Application ID允许使用英文字母和短横线；填写完毕Application ID点击Check Available，检查是否可用</p>

<p>一切正常的话就会看到下面的界面（告诉你App已经申请成功了）</p>

<p><img src="http://g1c1i0.cooear.com/images/uploads/2013/07/4.png" title="Google Application应用创建成功" alt="Google Application应用创建成功" /></p>

<p><br/>
<strong>注</strong>:每个Gmail账户最多只能创建10个Google App Engine应用，每个应用每天有1GB的免费流量。如果你经常下载或者观看视频建议多创建几个Google App Engine应用</p>

<h3>三、下载设置goagent</h3>

<p>step1: 下载<a href="https://github.com/phuslu/goagent/tags">goagent客户端</a></p>

<p>step2: 按图中“简单教程”中的步骤一步步来。</p>

<p><img src="http://g1c1i0.cooear.com/images/uploads/2013/07/5.png" title="GoAgent简单教程" alt="GoAgent简单教程" /></p>

<p>step3: 修改local\proxy.ini中[gae]下的appid=你的appid(多个appid请用|隔开)，即前面创建的Application所设定的Application ID;</p>

<p><img src="http://g1c1i0.cooear.com/images/uploads/2013/07/6.jpg" title="GoAgent的proxy.ini设置" alt="GoAgent的proxy.ini设置" /></p>

<p>step4: 打开server\uploader.bat,根据提示一次输入Application ID,邮箱地址和密码（如果设置了Gmail的两步验证请输入两步验证中生成的16位密码，即为独立应用单独生成的随机16位字符，而不是你的邮箱密码，<a href="http://cooear.com/blog/2013/07/gu-ge-zhang-hu-liang-bu-yan-zheng-she-zhi/">Gmail两步验证</a>在这里详细介绍）</p>

<p><img src="http://g1c1i0.cooear.com/images/uploads/2013/07/7.jpg" title="GoAgent配置登录" alt="GoAgent配置登录" /></p>

<p><br/>
<strong>注</strong>: 使用GoAgent上网前，必须运行local\goagent.exe</p>

<h3>四、安装chrome浏览器的SwitchySharp插件</h3>

<p>安装chrome浏览器的<a href="https://chrome.google.com/webstore/detail/proxy-switchysharp/dpplabbmogkhghncfbfdeeokoefdjegm?hl=zh-CN">SwitchySharp插件</a>，具体过程在第三步的step2的简单教程中已经有过介绍。最新版Proxy SwitchyOmega<a href="https://github.com/FelisCatus/SwitchyOmega/releases/">下载地址</a>。</p>

<h3>五、设置switchsharp插件</h3>

<p><strong>注意</strong>：Proxy SwitchySharp升级为 <a href="http://pan.baidu.com/s/1i3rHHGT">Proxy SwitchyOmega</a> 主要设置和Proxy SwitchySharp相似，会在Proxy SwitchySharp设置后简单介绍。</p>

<p>step1: 按下图填写</p>

<p><img src="http://g1c1i0.cooear.com/images/uploads/2013/07/8.jpg" title="chrome浏览器switchsharp设置" alt="chrome浏览器switchsharp设置" /></p>

<p>step2: 导入文件</p>

<p><img src="http://g1c1i0.cooear.com/images/uploads/2013/07/9.png" title="chrome浏览器switchsharp配置文件导入" alt="chrome浏览器switchsharp配置文件导入" /></p>

<p>step3:选择“代理”或者“自动切换模式”</p>

<p><img src="http://g1c1i0.cooear.com/images/uploads/2013/07/10.jpg" title="chrome浏览器switchsharp代理模式切换" alt="chrome浏览器switchsharp代理模式切换" /></p>

<p><br/>
<a href="http://pan.baidu.com/s/1i3rHHGT">Proxy SwitchyOmega</a>简介</p>

<p><img src="http://g1c1i0.cooear.com/images/uploads/2015/03/unnamed1.png" title="Proxy SwitchyOmega升级下载" alt="Proxy SwitchyOmega升级下载" /></p>

<p><img src="http://g1c1i0.cooear.com/images/uploads/2015/03/unnamed2.png" title="Proxy SwitchyOmega升级下载" alt="Proxy SwitchyOmega升级下载" /></p>

<p><img src="http://g1c1i0.cooear.com/images/uploads/2015/03/unnamed3.png" title="Proxy SwitchyOmega升级下载" alt="Proxy SwitchyOmega升级下载" /></p>

<h3>六、友情提示</h3>

<p>Google App Engine并非毫无限制，正如上文所说每个Gmail账号只能创建10个应用程序（最多10个AppID）。对于创建过的AppID，可以手动删除（72小时后生效，期间可以反悔）,AppID一旦删除，同名账号就不能再申请。</p>

<p>Google App Engine提供给每个AppID每天是1GB的流量，可以<a href="https://appengine.google.com/">登录</a>  点击你创建的AppID，可以查看你的流量图，以及每天免费配额还剩多少，如图：</p>

<p><img src="http://g1c1i0.cooear.com/images/uploads/2013/07/11.jpg" title="Google Application应该流量图" alt="Google Application应该流量图" /></p>

<p><font color=red>注: 每天的流量重新清零的时间是北京时间16点整，而非0点。</font></p>

<p>至此大功告成，切接每次运行local\goagent.exe,打开chrome，你就可以畅游于互联网的任何角落</p>

<p><img src="http://g1c1i0.cooear.com/images/uploads/2013/07/Over.jpg" title="云梯" alt="云梯" /></p>

<p><strong><font color=red>注意</font></strong>：<del>如果不想操作以上设置可以直接修改本机HOSTS文件达到相同效果，点击查看</del>;从个人使用情况再分享个Lantern翻墙，个人觉得Lantern的访问更稳定、速度更快。</p>

<p><br /></p>

<p><a href="http://cooear.com/blog/2014/08/lantern-deng-long-an-zhuang-he-shi-yong-jiao-cheng/">Lantern快速稳定翻墙教程地址</a></p>
]]></content>
  </entry>
  
</feed>
